const Utils=$.fn.bootstrapTable.utils,PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800;function normalizeWheel(i){let t=0,s=0,d=0,e=0;return"detail"in i&&(s=i.detail),"wheelDelta"in i&&(s=-i.wheelDelta/120),"wheelDeltaY"in i&&(s=-i.wheelDeltaY/120),"wheelDeltaX"in i&&(t=-i.wheelDeltaX/120),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(t=s,s=0),d=t*PIXEL_STEP,e=s*PIXEL_STEP,"deltaY"in i&&(e=i.deltaY),"deltaX"in i&&(d=i.deltaX),(d||e)&&i.deltaMode&&(i.deltaMode===1?(d*=LINE_HEIGHT,e*=LINE_HEIGHT):(d*=PAGE_HEIGHT,e*=PAGE_HEIGHT)),d&&!t&&(t=d<1?-1:1),e&&!s&&(s=e<1?-1:1),{spinX:t,spinY:s,pixelX:d,pixelY:e}}$.extend($.fn.bootstrapTable.defaults,{fixedColumns:!1,fixedNumber:0,fixedRightNumber:0}),$.BootstrapTable=class extends $.BootstrapTable{fixedColumnsSupported(){return this.options.fixedColumns&&!this.options.detailView&&!this.options.cardView}initContainer(){super.initContainer(),this.fixedColumnsSupported()&&(this.options.fixedNumber&&(this.$tableContainer.append('<div class="fixed-columns"></div>'),this.$fixedColumns=this.$tableContainer.find(".fixed-columns")),this.options.fixedRightNumber&&(this.$tableContainer.append('<div class="fixed-columns-right"></div>'),this.$fixedColumnsRight=this.$tableContainer.find(".fixed-columns-right")))}initBody(...i){super.initBody(...i),this.fixedColumnsSupported()&&(this.options.showHeader&&this.options.height||(this.initFixedColumnsBody(),this.initFixedColumnsEvents()))}trigger(...i){super.trigger(...i),this.fixedColumnsSupported()&&(i[0]==="post-header"?this.initFixedColumnsHeader():i[0]==="scroll-body"&&(this.needFixedColumns&&this.options.fixedNumber&&this.$fixedBody.scrollTop(this.$tableBody.scrollTop()),this.needFixedColumns&&this.options.fixedRightNumber&&this.$fixedBodyRight.scrollTop(this.$tableBody.scrollTop())))}updateSelected(){super.updateSelected(),this.fixedColumnsSupported()&&this.$tableBody.find("tr").each((i,t)=>{const s=$(t),d=s.data("index"),e=s.attr("class"),o=`[name="${this.options.selectItemName}"]`,n=s.find(o);if(typeof d===void 0)return;const h=(l,r)=>{const f=r.find(`tr[data-index="${d}"]`);f.attr("class",e),n.length&&f.find(o).prop("checked",n.prop("checked")),this.$selectAll.length&&l.add(r).find('[name="btSelectAll"]').prop("checked",this.$selectAll.prop("checked"))};this.$fixedBody&&this.options.fixedNumber&&h(this.$fixedHeader,this.$fixedBody),this.$fixedBodyRight&&this.options.fixedRightNumber&&h(this.$fixedHeaderRight,this.$fixedBodyRight)})}hideLoading(){super.hideLoading(),this.needFixedColumns&&this.options.fixedNumber&&this.$fixedColumns.find(".fixed-table-loading").hide(),this.needFixedColumns&&this.options.fixedRightNumber&&this.$fixedColumnsRight.find(".fixed-table-loading").hide()}initFixedColumnsHeader(){this.options.height?this.needFixedColumns=this.$tableHeader.outerWidth(!0)<this.$tableHeader.find("table").outerWidth(!0):this.needFixedColumns=this.$tableBody.outerWidth(!0)<this.$tableBody.find("table").outerWidth(!0);const i=(t,s)=>(t.find(".fixed-table-header").remove(),t.append(this.$tableHeader.clone(!0)),t.css({width:this.getFixedColumnsWidth(s)}),t.find(".fixed-table-header"));this.needFixedColumns&&this.options.fixedNumber?(this.$fixedHeader=i(this.$fixedColumns),this.$fixedHeader.css("margin-right","")):this.$fixedColumns&&this.$fixedColumns.html("").css("width",""),this.needFixedColumns&&this.options.fixedRightNumber?(this.$fixedHeaderRight=i(this.$fixedColumnsRight,!0),this.$fixedHeaderRight.scrollLeft(this.$fixedHeaderRight.find("table").width())):this.$fixedColumnsRight&&this.$fixedColumnsRight.html("").css("width",""),this.initFixedColumnsBody(),this.initFixedColumnsEvents()}initFixedColumnsBody(){const i=(t,s)=>{t.find(".fixed-table-body").remove(),t.append(this.$tableBody.clone(!0));const d=t.find(".fixed-table-body"),e=this.$tableBody.get(0),o=e.scrollWidth>e.clientWidth?Utils.getScrollBarWidth():0,n=this.$tableContainer.outerHeight(!0)-o-1;return t.css({height:n}),d.css({height:n-s.height()}),d};this.needFixedColumns&&this.options.fixedNumber&&(this.$fixedBody=i(this.$fixedColumns,this.$fixedHeader)),this.needFixedColumns&&this.options.fixedRightNumber&&(this.$fixedBodyRight=i(this.$fixedColumnsRight,this.$fixedHeaderRight),this.$fixedBodyRight.scrollLeft(this.$fixedBodyRight.find("table").width()),this.$fixedBodyRight.css("overflow-y",this.options.height?"auto":"hidden"))}getFixedColumnsWidth(i){let t=this.getVisibleFields(),s=0,d=this.options.fixedNumber,e=0;i&&(t=t.reverse(),d=this.options.fixedRightNumber,e=parseInt(this.$tableHeader.css("margin-right"),10));for(let o=0;o<d;o++)s+=this.$header.find(`th[data-field="${t[o]}"]`).outerWidth(!0);return s+e+1}initFixedColumnsEvents(){const i=(e,o)=>{const n=`tr[data-index="${$(e.currentTarget).data("index")}"]`;let h=this.$tableBody.find(n);this.$fixedBody&&(h=h.add(this.$fixedBody.find(n))),this.$fixedBodyRight&&(h=h.add(this.$fixedBodyRight.find(n))),h.css("background-color",o?$(e.currentTarget).css("background-color"):"")};this.$tableBody.find("tr").hover(e=>{i(e,!0)},e=>{i(e,!1)});const s=typeof navigator<"u"&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1?"DOMMouseScroll":"mousewheel",d=(e,o)=>{const n=normalizeWheel(e),h=Math.ceil(n.pixelY),l=this.$tableBody.scrollTop()+h;(h<0&&l>0||h>0&&l<o.scrollHeight-o.clientHeight)&&e.preventDefault(),this.$tableBody.scrollTop(l),this.$fixedBody&&this.$fixedBody.scrollTop(l),this.$fixedBodyRight&&this.$fixedBodyRight.scrollTop(l)};this.needFixedColumns&&this.options.fixedNumber&&(this.$fixedBody.find("tr").hover(e=>{i(e,!0)},e=>{i(e,!1)}),this.$fixedBody[0].addEventListener(s,e=>{d(e,this.$fixedBody[0])})),this.needFixedColumns&&this.options.fixedRightNumber&&(this.$fixedBodyRight.find("tr").hover(e=>{i(e,!0)},e=>{i(e,!1)}),this.$fixedBodyRight.off("scroll").on("scroll",()=>{const e=this.$fixedBodyRight.scrollTop();this.$tableBody.scrollTop(e),this.$fixedBody&&this.$fixedBody.scrollTop(e)})),this.options.filterControl&&$(this.$fixedColumns).off("keyup change").on("keyup change",e=>{const o=$(e.target),n=o.val(),h=o.parents("th").data("field"),l=this.$header.find(`th[data-field="${h}"]`);if(o.is("input"))l.find("input").val(n);else if(o.is("select")){const r=l.find("select");r.find("option[selected]").removeAttr("selected"),r.find(`option[value="${n}"]`).attr("selected",!0)}this.triggerSearch()})}renderStickyHeader(){if(this.options.stickyHeader&&(this.$stickyContainer=this.$container.find(".sticky-header-container"),super.renderStickyHeader(),this.needFixedColumns&&this.options.fixedNumber&&this.$fixedColumns.css("z-index",101).find(".sticky-header-container").css("right","").width(this.$fixedColumns.outerWidth()),this.needFixedColumns&&this.options.fixedRightNumber)){const i=this.$fixedColumnsRight.find(".sticky-header-container");this.$fixedColumnsRight.css("z-index",101),i.css("left","").scrollLeft(i.find(".table").outerWidth()).width(this.$fixedColumnsRight.outerWidth())}}matchPositionX(){this.options.stickyHeader&&this.$stickyContainer.eq(0).scrollLeft(this.$tableBody.scrollLeft())}};
