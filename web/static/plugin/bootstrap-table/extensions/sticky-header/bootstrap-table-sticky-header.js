const Utils=$.fn.bootstrapTable.utils;$.extend($.fn.bootstrapTable.defaults,{stickyHeader:!1,stickyHeaderOffsetY:0,stickyHeaderOffsetLeft:0,stickyHeaderOffsetRight:0}),$.BootstrapTable=class extends $.BootstrapTable{initHeader(...t){super.initHeader(...t),this.options.stickyHeader&&(this.$tableBody.find(".sticky-header-container,.sticky_anchor_begin,.sticky_anchor_end").remove(),this.$el.before('<div class="sticky-header-container"></div>'),this.$el.before('<div class="sticky_anchor_begin"></div>'),this.$el.after('<div class="sticky_anchor_end"></div>'),this.$header.addClass("sticky-header"),this.$stickyContainer=this.$tableBody.find(".sticky-header-container"),this.$stickyBegin=this.$tableBody.find(".sticky_anchor_begin"),this.$stickyEnd=this.$tableBody.find(".sticky_anchor_end"),this.$stickyHeader=this.$header.clone(!0,!0),$(window).off("resize.sticky-header-table").on("resize.sticky-header-table",()=>this.renderStickyHeader()),$(window).off("scroll.sticky-header-table").on("scroll.sticky-header-table",()=>this.renderStickyHeader()),this.$tableBody.off("scroll").on("scroll",()=>this.matchPositionX()))}onColumnSearch({currentTarget:t,keyCode:s}){super.onColumnSearch({currentTarget:t,keyCode:s}),this.renderStickyHeader()}resetView(...t){super.resetView(...t),$(".bootstrap-table.fullscreen").off("scroll").on("scroll",()=>this.renderStickyHeader())}renderStickyHeader(){const t=this;this.$stickyHeader=this.$header.clone(!0,!0),this.options.filterControl&&$(this.$stickyHeader).off("keyup change mouseup").on("keyup change mouse",function(i){const e=$(i.target),a=e.val(),o=e.parents("th").data("field"),r=t.$header.find('th[data-field="'+o+'"]');if(e.is("input"))r.find("input").val(a);else if(e.is("select")){const n=r.find("select");n.find("option[selected]").removeAttr("selected"),n.find('option[value="'+a+'"]').attr("selected",!0)}t.triggerSearch()});const s=$(window).scrollTop(),c=this.$stickyBegin.offset().top-this.options.stickyHeaderOffsetY,d=this.$stickyEnd.offset().top-this.options.stickyHeaderOffsetY-this.$header.height();if(s>c&&s<=d){this.$stickyHeader.find("tr:eq(0)").find("th").each((a,o)=>{$(o).css("min-width",this.$header.find("tr:eq(0)").find("th").eq(a).css("width"))}),this.$stickyContainer.show().addClass("fix-sticky fixed-table-container");let i=this.options.stickyHeaderOffsetLeft,e=this.options.stickyHeaderOffsetRight;this.$el.closest(".bootstrap-table").hasClass("fullscreen")&&(i=0,e=0),this.$stickyContainer.css("top",`${this.options.stickyHeaderOffsetY}`),this.$stickyContainer.css("left",`${i}`),this.$stickyContainer.css("right",`${e}`),this.$stickyTable=$("<table/>"),this.$stickyTable.addClass(this.options.classes),this.$stickyContainer.html(this.$stickyTable.append(this.$stickyHeader)),this.matchPositionX()}else this.$stickyContainer.removeClass("fix-sticky").hide()}matchPositionX(){this.$stickyContainer.scrollLeft(this.$tableBody.scrollLeft())}};
